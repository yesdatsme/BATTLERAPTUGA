<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rappers e Batalhas</title>
  <style>
    /* Estilo para as caixas de informação */
    .info-box {
      background-color: #f7e98d;
      padding: 10px;
      margin: 20px auto;
      font-size: 14px;
      border-radius: 5px;
      text-align: left;
      max-width: 90%;
    }

    /* Estilo para as colunas de cada rapper */
    .rapper-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
    }

    .rapper-column {
      display: inline-block;
      width: 22%;
      padding: 15px;
      margin: 10px;
      background-color: #f2f2f2;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
      text-align: center;
    }

    .rapper-column:hover {
      transform: scale(1.05);
    }

    .rapper-column img {
      max-width: 100%;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .rapper-column h2 a {
      text-decoration: none;
      color: #333;
    }

    .rapper-column h2 {
      margin-bottom: 10px;
    }

    /* Estilo para os campos de avaliação */
    .input-group {
      margin-bottom: 10px;
    }

    .input-group label {
      display: block;
      margin-bottom: 5px;
    }

    .input-group input, .input-group select {
      width: 100%;
      padding: 5px;
      font-size: 14px;
    }

    .button {
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
      width: 100%;
    }

    .button:hover {
      background-color: #45a049;
    }

    .table-container {
      margin-top: 50px;
      text-align: center;
    }

    .results-table {
      width: 80%;
      margin: 0 auto;
      border-collapse: collapse;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .results-table th, .results-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    .results-table th {
      background-color: #f2f2f2;
    }

    .tier {
      font-weight: bold;
    }

    /* Estilo para o link "Assistir" */
    .assistir-link {
      color: #4CAF50;
      text-decoration: none;
      font-weight: bold;
      margin-left: 5px;
    }

    .assistir-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <!-- Caixa de instruções -->
  <div class="info-box">
    <h3>Instruções de Avaliação</h3>
    <p>Este sistema de avaliação atribui pesos diferenciados aos critérios para determinar a pontuação de cada rapper:</p>
    <ul>
      <li><strong>Material:</strong> 25% (mais importante)</li>
      <li><strong>Confronto Direto:</strong> 25% (mais importante)</li>
      <li><strong>Adversários:</strong> 20% (importante)</li>
      <li><strong>Consistência:</strong> 10% (menos importante)</li>
      <li><strong>Performance:</strong> 10% (menos importante)</li>
      <li><strong>Impacto:</strong> 10% (menos importante)</li>
    </ul>
    <p>Após calcular a pontuação inicial, o status do rapper (favorito ou underdog) é levado em conta para ajustar a pontuação, dependendo do resultado da batalha:</p>
    <ul>
      <li><strong>Favorito que perde:</strong> Perde 20% da pontuação.</li>
      <li><strong>Underdog que ganha:</strong> Ganha 20% de bônus.</li>
      <li><strong>Favorito que ganha:</strong> Não há alteração na pontuação.</li>
      <li><strong>Underdog que perde:</strong> Não há alteração na pontuação.</li>
    </ul>
  </div>

  <!-- Container para as colunas dos rappers -->
  <div class="rapper-container">
    <!-- Coluna do rapper 3ma -->
    <div class="rapper-column" id="rapper-3ma">
      <img src="https://via.placeholder.com/150" alt="Imagem do 3ma">
      <h2>
        <a href="https://www.youtube.com/results?search_query=3ma" target="_blank">3ma</a>
      </h2>

      <!-- Avaliação do rapper -->
      <h3>Avaliação do rapper</h3>

      <!-- Critérios -->
      <div class="input-group">
        <label for="nota-material-3ma">Material (0-10):</label>
        <input type="number" name="nota-material-3ma" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-confronto-3ma">Confronto Direto (0-10):</label>
        <input type="number" name="nota-confronto-3ma" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-adversarios-3ma">Adversários (0-10):</label>
        <input type="number" name="nota-adversarios-3ma" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-consistencia-3ma">Consistência (0-10):</label>
        <input type="number" name="nota-consistencia-3ma" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-performance-3ma">Performance (0-10):</label>
        <input type="number" name="nota-performance-3ma" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-impacto-3ma">Impacto (0-10):</label>
        <input type="number" name="nota-impacto-3ma" min="0" max="10">
      </div>

      <!-- Batalhas -->
      <h3>Batalhas</h3>

      <!-- Para cada batalha, seletores de resultado e link "Assistir" -->
      <div class="input-group">
        <label for="resultado-3ma-KM">Resultado 3ma VS KM:</label>
        <select id="resultado-3ma-KM">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-KM">Favorito ou Underdog:</label>
        <select id="favorito-3ma-KM">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+KM" target="_blank">Assistir</a>
      </div>

      <div class="input-group">
        <label for="resultado-3ma-Shap3">Resultado 3ma VS Shap3:</label>
        <select id="resultado-3ma-Shap3">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-Shap3">Favorito ou Underdog:</label>
        <select id="favorito-3ma-Shap3">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+Shap3" target="_blank">Assistir</a>
      </div>

      <div class="input-group">
        <label for="resultado-3ma-Lc">Resultado 3ma VS Lc:</label>
        <select id="resultado-3ma-Lc">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-Lc">Favorito ou Underdog:</label>
        <select id="favorito-3ma-Lc">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+Lc" target="_blank">Assistir</a>
      </div>

      <!-- Botão de votar (apenas um por coluna) -->
      <div class="input-group">
        <button class="button" onclick="votar('3ma')">Votar</button>
      </div>
    </div>

    <!-- Repetir a estrutura para outros rappers -->
    <!-- Abismal -->
    <div class="rapper-column" id="rapper-Abismal">
      <img src="https://via.placeholder.com/150" alt="Imagem do Abismal">
      <h2>
        <a href="https://www.youtube.com/results?search_query=Abismal" target="_blank">Abismal</a>
      </h2>

      <!-- Avaliação do rapper -->
      <h3>Avaliação do rapper</h3>

      <!-- Critérios -->
      <div class="input-group">
        <label for="nota-material-Abismal">Material (0-10):</label>
        <input type="number" name="nota-material-Abismal" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-confronto-Abismal">Confronto Direto (0-10):</label>
        <input type="number" name="nota-confronto-Abismal" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-adversarios-Abismal">Adversários (0-10):</label>
        <input type="number" name="nota-adversarios-Abismal" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-consistencia-Abismal">Consistência (0-10):</label>
        <input type="number" name="nota-consistencia-Abismal" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-performance-Abismal">Performance (0-10):</label>
        <input type="number" name="nota-performance-Abismal" min="0" max="10">
      </div>

      <div class="input-group">
        <label for="nota-impacto-Abismal">Impacto (0-10):</label>
        <input type="number" name="nota-impacto-Abismal" min="0" max="10">
      </div>

      <!-- Batalhas -->
      <h3>Batalhas</h3>

      <!-- Para cada batalha, seletores de resultado e link "Assistir" -->
      <div class="input-group">
        <label for="resultado-Abismal-EdiVentura">Resultado Abismal VS Edi Ventura:</label>
        <select id="resultado-Abismal-EdiVentura">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-EdiVentura">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-EdiVentura">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+Edi Ventura" target="_blank">Assistir</a>
      </div>

      <div class="input-group">
        <label for="resultado-Abismal-RealPunch">Resultado Abismal VS Realpunch:</label>
        <select id="resultado-Abismal-RealPunch">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-Realpunch">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-Realpunch">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+Realpunch" target="_blank">Assistir</a>
      </div>

      <div class="input-group">
        <label for="resultado-Abismal-WilsonG">Resultado Abismal VS WilsonG:</label>
        <select id="resultado-Abismal-WilsonG">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-WilsonG">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-WilsonG">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+WilsonG" target="_blank">Assistir</a>
      </div>

      <!-- Botão de votar (apenas um por coluna) -->
      <div class="input-group">
        <button class="button" onclick="votar('Abismal')">Votar</button>
      </div>
    </div>

    <!-- Repetir a estrutura para todos os rappers e seus adversários -->
    <!-- ... -->
  </div>

  <!-- Tabela de Resultados -->
  <div class="table-container">
    <h3>Resultado das Batalhas</h3>
    <table class="results-table">
      <thead>
        <tr>
          <th>Rapper</th>
          <th>Vitórias</th>
          <th>Derrotas</th>
          <th>Empates</th>
          <th>Pontuação</th>
          <th>Critério Mais Forte</th>
          <th>TIER</th>
        </tr>
      </thead>
      <tbody id="tabela-resultados">
        <!-- As vitórias, derrotas e empates serão atualizados aqui dinamicamente -->
      </tbody>
    </table>
  </div>

  <script>
    function votar(rapper) {
      const pontuacao = calcularPontuacao(rapper);
      const tier = determinarTier(pontuacao);

      // Atualiza a tabela de resultados
      const tabela = document.getElementById("tabela-resultados");
      const row = tabela.insertRow();

      row.insertCell(0).textContent = rapper;
      row.insertCell(1).textContent = 0; // Vitórias (a ser implementado)
      row.insertCell(2).textContent = 0; // Derrotas (a ser implementado)
      row.insertCell(3).textContent = 0; // Empates (a ser implementado)
      row.insertCell(4).textContent = pontuacao.toFixed(2);
      row.insertCell(5).textContent = 'Material'; // Critério mais forte (a ser implementado)
      row.insertCell(6).textContent = tier;
    }

    function calcularPontuacao(rapper) {
      // Pesos dos critérios
      const pesos = {
        material: 0.25,
        confronto: 0.25,
        adversarios: 0.20,
        consistencia: 0.10,
        performance: 0.10,
        impacto: 0.10
      };

      // Notas dos critérios
      const notas = {
        material: parseFloat(document.getElementById(`nota-material-${rapper}`).value) || 0,
        confronto: parseFloat(document.getElementById(`nota-confronto-${rapper}`).value) || 0,
        adversarios: parseFloat(document.getElementById(`nota-adversarios-${rapper}`).value) || 0,
        consistencia: parseFloat(document.getElementById(`nota-consistencia-${rapper}`).value) || 0,
        performance: parseFloat(document.getElementById(`nota-performance-${rapper}`).value) || 0,
        impacto: parseFloat(document.getElementById(`nota-impacto-${rapper}`).value) || 0
      };

      // Cálculo da pontuação inicial
      let pontuacaoInicial = 0;
      for (const [criterio, peso] of Object.entries(pesos)) {
        pontuacaoInicial += notas[criterio] * peso;
      }

      // Ajuste da pontuação com base no resultado da batalha
      const resultados = [];
      const batalhas = document.querySelectorAll(`#rapper-${rapper} .input-group select[id^="resultado"]`);
      batalhas.forEach((select) => {
        const resultado = select.value;
        const favorito = document.getElementById(select.id.replace('resultado', 'favorito')).value;
        resultados.push({ resultado, favorito });
      });

      resultados.forEach(({ resultado, favorito }) => {
        if (favorito === 'Favorito' && resultado === 'Perdeu') {
          pontuacaoInicial *= 0.8; // Perde 20% da pontuação
        } else if (favorito === 'Underdog' && resultado === 'Venceu') {
          pontuacaoInicial *= 1.2; // Ganha 20% de bônus
        }
      });

      return pontuacaoInicial;
    }

    function determinarTier(pontuacao) {
      if (pontuacao >= 9) return 'TIER 1';
      if (pontuacao >= 7) return 'TIER 2';
      if (pontuacao >= 5) return 'TIER 3';
      return 'TIER 4';
    }
  </script>
</body>
</html>

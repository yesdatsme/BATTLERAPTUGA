<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BATTLE RAP PT</title>
  <style>
    /* Estilo para as caixas de informação */
    .info-box {
      background-color: #f7e98d;
      padding: 10px;
      margin: 20px auto;
      font-size: 14px;
      border-radius: 5px;
      text-align: left;
      max-width: 90%;
    }

    /* Estilo para as colunas de cada rapper */
    .rapper-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
    }

    .rapper-column {
      display: inline-block;
      width: 22%;
      padding: 15px;
      margin: 10px;
      background-color: #f2f2f2;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
      text-align: center;
    }

    .rapper-column:hover {
      transform: scale(1.05);
    }

    .rapper-column img {
      max-width: 100%;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .rapper-column h2 a {
      text-decoration: none;
      color: #333;
    }

    .rapper-column h2 {
      margin-bottom: 10px;
    }

    /* Estilo para os campos de avaliação */
    .input-group {
      margin-bottom: 10px;
    }

    .input-group label {
      display: block;
      margin-bottom: 5px;
    }

    .input-group input, .input-group select {
      width: 100%;
      padding: 5px;
      font-size: 14px;
    }

    .button {
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s ease;
      width: 100%;
    }

    .button:hover {
      background-color: #45a049;
    }

    .table-container {
      margin-top: 50px;
      text-align: center;
    }

    .results-table {
      width: 80%;
      margin: 0 auto;
      border-collapse: collapse;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .results-table th, .results-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    .results-table th {
      background-color: #f2f2f2;
    }

    .tier {
      font-weight: bold;
    }

    /* Estilo para o link "Assistir" */
    .assistir-link {
      color: #4CAF50;
      text-decoration: none;
      font-weight: bold;
      margin-left: 5px;
    }

    .assistir-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <!-- Caixa de instruções -->
  <div class="info-box">
    <h3>Instruções de Avaliação</h3>
    <p>Este sistema de avaliação atribui pesos diferenciados aos critérios para determinar a pontuação de cada rapper:</p>
    <ul>
      <li><strong>Material:</strong> 25% (mais importante)</li>
      <li><strong>Confronto Direto:</strong> 25% (mais importante)</li>
      <li><strong>Adversários:</strong> 20% (importante)</li>
      <li><strong>Consistência:</strong> 10% (menos importante)</li>
      <li><strong>Performance:</strong> 10% (menos importante)</li>
      <li><strong>Impacto:</strong> 10% (menos importante)</li>
    </ul>
    <p>Após calcular a pontuação inicial, o status do rapper (favorito ou underdog) é levado em conta para ajustar a pontuação, dependendo do resultado da batalha:</p>
    <ul>
      <li><strong>Favorito que perde:</strong> Perde 20% da pontuação.</li>
      <li><strong>Underdog que ganha:</strong> Ganha 20% de bônus.</li>
      <li><strong>Favorito que ganha:</strong> Não há alteração na pontuação.</li>
      <li><strong>Underdog que perde:</strong> Não há alteração na pontuação.</li>
    </ul>
  </div>

  <!-- Container para as colunas dos rappers -->
  <div class="rapper-container">
    
    <!-- 3ma -->
    <div class="rapper-column" id="rapper-3ma">
      <img src="https://via.placeholder.com/150" alt="Imagem do 3ma">
      <h2><a href="https://www.youtube.com/results?search_query=3ma" target="_blank">3ma</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-3ma">Material (0-10):</label>
        <input type="number" id="nota-material-3ma" name="nota-material-3ma" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-3ma">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-3ma" name="nota-confronto-3ma" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-3ma">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-3ma" name="nota-adversarios-3ma" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-3ma">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-3ma" name="nota-consistencia-3ma" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-3ma">Performance (0-10):</label>
        <input type="number" id="nota-performance-3ma" name="nota-performance-3ma" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-3ma">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-3ma" name="nota-impacto-3ma" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: 3ma vs KM -->
      <div class="input-group">
        <label for="resultado-3ma-KM">Resultado 3ma VS KM:</label>
        <select id="resultado-3ma-KM">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-KM">Favorito ou Underdog:</label>
        <select id="favorito-3ma-KM">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+KM" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: 3ma vs Shap3 -->
      <div class="input-group">
        <label for="resultado-3ma-Shap3">Resultado 3ma VS Shap3:</label>
        <select id="resultado-3ma-Shap3">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-Shap3">Favorito ou Underdog:</label>
        <select id="favorito-3ma-Shap3">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+Shap3" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: 3ma vs Lc -->
      <div class="input-group">
        <label for="resultado-3ma-Lc">Resultado 3ma VS Lc:</label>
        <select id="resultado-3ma-Lc">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-3ma-Lc">Favorito ou Underdog:</label>
        <select id="favorito-3ma-Lc">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=3ma+VS+Lc" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="3ma">Votar</button>
      </div>
    </div>
    
    <!-- Abismal -->
    <div class="rapper-column" id="rapper-Abismal">
      <img src="https://via.placeholder.com/150" alt="Imagem do Abismal">
      <h2><a href="https://www.youtube.com/results?search_query=Abismal" target="_blank">Abismal</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-Abismal">Material (0-10):</label>
        <input type="number" id="nota-material-Abismal" name="nota-material-Abismal" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-Abismal">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-Abismal" name="nota-confronto-Abismal" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-Abismal">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-Abismal" name="nota-adversarios-Abismal" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-Abismal">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-Abismal" name="nota-consistencia-Abismal" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-Abismal">Performance (0-10):</label>
        <input type="number" id="nota-performance-Abismal" name="nota-performance-Abismal" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-Abismal">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-Abismal" name="nota-impacto-Abismal" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: Abismal vs EdiVentura -->
      <div class="input-group">
        <label for="resultado-Abismal-EdiVentura">Resultado Abismal VS Edi Ventura:</label>
        <select id="resultado-Abismal-EdiVentura">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-EdiVentura">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-EdiVentura">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+Edi+Ventura" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Abismal vs RealPunch -->
      <div class="input-group">
        <label for="resultado-Abismal-RealPunch">Resultado Abismal VS RealPunch:</label>
        <select id="resultado-Abismal-RealPunch">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-RealPunch">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-RealPunch">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+RealPunch" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Abismal vs WilsonG -->
      <div class="input-group">
        <label for="resultado-Abismal-WilsonG">Resultado Abismal VS WilsonG:</label>
        <select id="resultado-Abismal-WilsonG">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Abismal-WilsonG">Favorito ou Underdog:</label>
        <select id="favorito-Abismal-WilsonG">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Abismal+VS+WilsonG" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="Abismal">Votar</button>
      </div>
    </div>
    
    <!-- AM -->
    <div class="rapper-column" id="rapper-AM">
      <img src="https://via.placeholder.com/150" alt="Imagem do AM">
      <h2><a href="https://www.youtube.com/results?search_query=AM" target="_blank">AM</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-AM">Material (0-10):</label>
        <input type="number" id="nota-material-AM" name="nota-material-AM" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-AM">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-AM" name="nota-confronto-AM" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-AM">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-AM" name="nota-adversarios-AM" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-AM">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-AM" name="nota-consistencia-AM" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-AM">Performance (0-10):</label>
        <input type="number" id="nota-performance-AM" name="nota-performance-AM" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-AM">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-AM" name="nota-impacto-AM" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: AM vs Licon -->
      <div class="input-group">
        <label for="resultado-AM-Licon">Resultado AM VS Licon:</label>
        <select id="resultado-AM-Licon">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-AM-Licon">Favorito ou Underdog:</label>
        <select id="favorito-AM-Licon">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=AM+VS+Licon" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: AM vs Melro -->
      <div class="input-group">
        <label for="resultado-AM-Melro">Resultado AM VS Melro:</label>
        <select id="resultado-AM-Melro">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-AM-Melro">Favorito ou Underdog:</label>
        <select id="favorito-AM-Melro">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=AM+VS+Melro" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: AM vs Vazto -->
      <div class="input-group">
        <label for="resultado-AM-Vazto">Resultado AM VS Vazto:</label>
        <select id="resultado-AM-Vazto">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-AM-Vazto">Favorito ou Underdog:</label>
        <select id="favorito-AM-Vazto">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=AM+VS+Vazto" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
        <button class="button" data-rapper-id="Am">Votar</button>
      </div>
    </div>
    
    <!-- AnimaNera -->
    <div class="rapper-column" id="rapper-AnimaNera">
      <img src="https://via.placeholder.com/150" alt="Imagem do AnimaNera">
      <h2><a href="https://www.youtube.com/results?search_query=AnimaNera" target="_blank">AnimaNera</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-AnimaNera">Material (0-10):</label>
        <input type="number" id="nota-material-AnimaNera" name="nota-material-AnimaNera" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-AnimaNera">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-AnimaNera" name="nota-confronto-AnimaNera" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-AnimaNera">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-AnimaNera" name="nota-adversarios-AnimaNera" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-AnimaNera">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-AnimaNera" name="nota-consistencia-AnimaNera" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-AnimaNera">Performance (0-10):</label>
        <input type="number" id="nota-performance-AnimaNera" name="nota-performance-AnimaNera" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-AnimaNera">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-AnimaNera" name="nota-impacto-AnimaNera" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: AnimaNera vs Slark -->
      <div class="input-group">
        <label for="resultado-AnimaNera-Slark">Resultado AnimaNera VS Slark:</label>
        <select id="resultado-AnimaNera-Slark">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-AnimaNera-Slark">Favorito ou Underdog:</label>
        <select id="favorito-AnimaNera-Slark">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=AnimaNera+VS+Slark" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: AnimaNera vs AM -->
      <div class="input-group">
        <label for="resultado-AnimaNera-AM">Resultado AnimaNera VS AM:</label>
        <select id="resultado-AnimaNera-AM">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-AnimaNera-AM">Favorito ou Underdog:</label>
        <select id="favorito-AnimaNera-AM">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=AnimaNera+VS+AM" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="AnimaNera">Votar</button>
      </div>
    </div>
    
    <!-- Benny -->
    <div class="rapper-column" id="rapper-Benny">
      <img src="https://via.placeholder.com/150" alt="Imagem do Benny">
      <h2><a href="https://www.youtube.com/results?search_query=Benny" target="_blank">Benny</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-Benny">Material (0-10):</label>
        <input type="number" id="nota-material-Benny" name="nota-material-Benny" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-Benny">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-Benny" name="nota-confronto-Benny" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-Benny">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-Benny" name="nota-adversarios-Benny" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-Benny">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-Benny" name="nota-consistencia-Benny" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-Benny">Performance (0-10):</label>
        <input type="number" id="nota-performance-Benny" name="nota-performance-Benny" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-Benny">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-Benny" name="nota-impacto-Benny" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: Benny vs KM -->
      <div class="input-group">
        <label for="resultado-Benny-KM">Resultado Benny VS KM:</label>
        <select id="resultado-Benny-KM">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Benny-KM">Favorito ou Underdog:</label>
        <select id="favorito-Benny-KM">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Benny+VS+KM" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="Benny">Votar</button>
      </div>
    </div>
    
    <!-- Caden -->
    <div class="rapper-column" id="rapper-Caden">
      <img src="https://via.placeholder.com/150" alt="Imagem do Caden">
      <h2><a href="https://www.youtube.com/results?search_query=Caden" target="_blank">Caden</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-Caden">Material (0-10):</label>
        <input type="number" id="nota-material-Caden" name="nota-material-Caden" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-Caden">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-Caden" name="nota-confronto-Caden" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-Caden">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-Caden" name="nota-adversarios-Caden" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-Caden">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-Caden" name="nota-consistencia-Caden" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-Caden">Performance (0-10):</label>
        <input type="number" id="nota-performance-Caden" name="nota-performance-Caden" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-Caden">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-Caden" name="nota-impacto-Caden" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: Caden vs Jonec -->
      <div class="input-group">
        <label for="resultado-Caden-Jonec">Resultado Caden VS Jonec:</label>
        <select id="resultado-Caden-Jonec">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Caden-Jonec">Favorito ou Underdog:</label>
        <select id="favorito-Caden-Jonec">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Caden+VS+Jonec" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Caden vs Joker -->
      <div class="input-group">
        <label for="resultado-Caden-Joker">Resultado Caden VS Joker:</label>
        <select id="resultado-Caden-Joker">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-Caden-Joker">Favorito ou Underdog:</label>
        <select id="favorito-Caden-Joker">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Caden+VS+Joker" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
        <button class="button" data-rapper-id="Caden">Votar</button>
      </div>
    </div>
    
    <!-- CPjota -->
    <div class="rapper-column" id="rapper-CPjota">
      <img src="https://via.placeholder.com/150" alt="Imagem do CPjota">
      <h2><a href="https://www.youtube.com/results?search_query=CPjota" target="_blank">CPjota</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-CPjota">Material (0-10):</label>
        <input type="number" id="nota-material-CPjota" name="nota-material-CPjota" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-CPjota">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-CPjota" name="nota-confronto-CPjota" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-CPjota">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-CPjota" name="nota-adversarios-CPjota" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-CPjota">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-CPjota" name="nota-consistencia-CPjota" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-CPjota">Performance (0-10):</label>
        <input type="number" id="nota-performance-CPjota" name="nota-performance-CPjota" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-CPjota">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-CPjota" name="nota-impacto-CPjota" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: CPjota vs Lc -->
      <div class="input-group">
        <label for="resultado-CPjota-Lc">Resultado CPjota VS Lc:</label>
        <select id="resultado-CPjota-Lc">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-CPjota-Lc">Favorito ou Underdog:</label>
        <select id="favorito-CPjota-Lc">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=CPjota+VS+Lc" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
        <button class="button" data-rapper-id="CpJota">Votar</button>
      </div>
    </div>
    
    <!-- DaVinci -->
    <div class="rapper-column" id="rapper-DaVinci">
      <img src="https://via.placeholder.com/150" alt="Imagem do DaVinci">
      <h2><a href="https://www.youtube.com/results?search_query=DaVinci" target="_blank">DaVinci</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-DaVinci">Material (0-10):</label>
        <input type="number" id="nota-material-DaVinci" name="nota-material-DaVinci" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-DaVinci">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-DaVinci" name="nota-confronto-DaVinci" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-DaVinci">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-DaVinci" name="nota-adversarios-DaVinci" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-DaVinci">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-DaVinci" name="nota-consistencia-DaVinci" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-DaVinci">Performance (0-10):</label>
        <input type="number" id="nota-performance-DaVinci" name="nota-performance-DaVinci" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-DaVinci">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-DaVinci" name="nota-impacto-DaVinci" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: DaVinci vs Rickas -->
      <div class="input-group">
        <label for="resultado-DaVinci-Rickas">Resultado DaVinci VS Rickas:</label>
        <select id="resultado-DaVinci-Rickas">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-DaVinci-Rickas">Favorito ou Underdog:</label>
        <select id="favorito-DaVinci-Rickas">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=DaVinci+VS+Rickas" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: DaVinci vs Melro -->
      <div class="input-group">
        <label for="resultado-DaVinci-Melro">Resultado DaVinci VS Melro:</label>
        <select id="resultado-DaVinci-Melro">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-DaVinci-Melro">Favorito ou Underdog:</label>
        <select id="favorito-DaVinci-Melro">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=DaVinci+VS+Melro" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="DaVinci">Votar</button>
      </div>
    </div>
    
    <!-- Edi Ventura -->
    <div class="rapper-column" id="rapper-EdiVentura">
      <img src="https://via.placeholder.com/150" alt="Imagem do Edi Ventura">
      <h2><a href="https://www.youtube.com/results?search_query=Edi+Ventura" target="_blank">Edi Ventura</a></h2>
      <h3>Avaliação do rapper</h3>
      <div class="input-group">
        <label for="nota-material-EdiVentura">Material (0-10):</label>
        <input type="number" id="nota-material-EdiVentura" name="nota-material-EdiVentura" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-confronto-EdiVentura">Confronto Direto (0-10):</label>
        <input type="number" id="nota-confronto-EdiVentura" name="nota-confronto-EdiVentura" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-adversarios-EdiVentura">Adversários (0-10):</label>
        <input type="number" id="nota-adversarios-EdiVentura" name="nota-adversarios-EdiVentura" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-consistencia-EdiVentura">Consistência (0-10):</label>
        <input type="number" id="nota-consistencia-EdiVentura" name="nota-consistencia-EdiVentura" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-performance-EdiVentura">Performance (0-10):</label>
        <input type="number" id="nota-performance-EdiVentura" name="nota-performance-EdiVentura" min="0" max="10">
      </div>
      <div class="input-group">
        <label for="nota-impacto-EdiVentura">Impacto (0-10):</label>
        <input type="number" id="nota-impacto-EdiVentura" name="nota-impacto-EdiVentura" min="0" max="10">
      </div>
      <h3>Batalhas</h3>
      <!-- Batalha: Edi Ventura vs RealPunch -->
      <div class="input-group">
        <label for="resultado-EdiVentura-RealPunch">Resultado Edi Ventura VS RealPunch:</label>
        <select id="resultado-EdiVentura-RealPunch">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-EdiVentura-RealPunch">Favorito ou Underdog:</label>
        <select id="favorito-EdiVentura-RealPunch">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Edi+Ventura+VS+RealPunch" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Edi Ventura vs WilsonG -->
      <div class="input-group">
        <label for="resultado-EdiVentura-WilsonG">Resultado Edi Ventura VS WilsonG:</label>
        <select id="resultado-EdiVentura-WilsonG">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-EdiVentura-WilsonG">Favorito ou Underdog:</label>
        <select id="favorito-EdiVentura-WilsonG">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Edi+Ventura+VS+WilsonG" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Edi Ventura vs ZA -->
      <div class="input-group">
        <label for="resultado-EdiVentura-Za">Resultado Edi Ventura VS ZA:</label>
        <select id="resultado-EdiVentura-Za">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-EdiVentura-Za">Favorito ou Underdog:</label>
        <select id="favorito-EdiVentura-Za">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Edi+Ventura+VS+ZA" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Edi Ventura vs Lc -->
      <div class="input-group">
        <label for="resultado-EdiVentura-Lc">Resultado Edi Ventura VS Lc:</label>
        <select id="resultado-EdiVentura-Lc">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-EdiVentura-Lc">Favorito ou Underdog:</label>
        <select id="favorito-EdiVentura-Lc">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Edi+Ventura+VS+Lc" target="_blank">Assistir</a>
      </div>
      <!-- Batalha: Edi Ventura vs MajesticTK -->
      <div class="input-group">
        <label for="resultado-EdiVentura-MajesticTK">Resultado Edi Ventura VS Majestic TK:</label>
        <select id="resultado-EdiVentura-MajesticTK">
          <option value="Venceu">Venceu</option>
          <option value="Perdeu">Perdeu</option>
          <option value="Empatou">Empatou</option>
        </select>
        <label for="favorito-EdiVentura-MajesticTK">Favorito ou Underdog:</label>
        <select id="favorito-EdiVentura-MajesticTK">
          <option value="Favorito">Favorito</option>
          <option value="Underdog">Underdog</option>
        </select>
        <a class="assistir-link" href="https://www.youtube.com/results?search_query=Edi+Ventura+VS+Majestic+TK" target="_blank">Assistir</a>
      </div>
      <div class="input-group">
       <button class="button" data-rapper-id="EdiVentura">Votar</button>
      </div>
    </div>

 <!-- Tabela de resultados -->
<div class="table-container">
  <table class="results-table">
    <thead>
      <tr>
        <th>Rapper</th>
        <th>Pontuação</th>
        <th>Vitórias</th>
        <th>Derrotas</th>
        <th>Critério Mais Forte</th>
        <th>Tier</th>
      </tr>
    </thead>
    <tbody id="tabela-corpo">
      <tr>
        <td colspan="6">Aguardando votos...</td>
      </tr>
    </tbody>
  </table>
</div>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, collection, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDJIo-2zIOeCRaXjQIo7OQAW3g-6aRdXeg",
        authDomain: "battlerappt.firebaseapp.com",
        projectId: "battlerappt",
        storageBucket: "battlerappt.firebasestorage.app",
        messagingSenderId: "291516729501",
        appId: "1:291516729501:web:3d945fc3155d1695356c74",
        measurementId: "G-6KBBCB9RFB"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Inicialização após carregamento da página
    document.addEventListener('DOMContentLoaded', () => {
        setupVoteButtons();
        observarVotos();
    });

    function setupVoteButtons() {
        document.querySelectorAll('.button[data-rapper-id]').forEach(button => {
            button.addEventListener('click', async () => {
                const rapperId = button.dataset.rapperId;
                await handleVote(rapperId);
            });
        });
    }

    // Funções de cálculo
    const pesos = {
        material: 0.25,
        confronto: 0.25,
        adversarios: 0.20,
        consistencia: 0.10,
        performance: 0.10,
        impacto: 0.10
    };

    function calcularPontuacao(data) {
        let pontuacaoBase = (
            (data.material * pesos.material) +
            (data.confronto * pesos.confronto) +
            (data.adversarios * pesos.adversarios) +
            (data.consistencia * pesos.consistencia) +
            (data.performance * pesos.performance) +
            (data.impacto * pesos.impacto)
        ) * 10;

        data.batalhas.forEach(batalha => {
            if (batalha.resultado === 'Venceu' && batalha.status === 'Underdog') {
                pontuacaoBase *= 1.20;
            } else if (batalha.resultado === 'Perdeu' && batalha.status === 'Favorito') {
                pontuacaoBase *= 0.80;
            }
        });

        return Math.min(Math.round(pontuacaoBase * 10) / 10, 100);
    }

    function determinarTier(pontuacao) {
        if (pontuacao >= 90) return 'S';
        if (pontuacao >= 70) return 'A';
        return 'B';
    }

    function encontrarCritérioForte(data) {
        const criterios = {
            material: data.material,
            confronto: data.confronto,
            adversarios: data.adversarios,
            consistencia: data.consistencia,
            performance: data.performance,
            impacto: data.impacto
        };
        const sorted = Object.entries(criterios).sort((a, b) => b[1] - a[1]);
        return sorted[0][0].charAt(0).toUpperCase() + sorted[0][0].slice(1);
    }

    // Função principal de votação
    async function handleVote(rapperId) {
        try {
            // Coletar dados básicos
            const data = {
                material: parseFloat(document.getElementById(`nota-material-${rapperId}`).value),
                confronto: parseFloat(document.getElementById(`nota-confronto-${rapperId}`).value),
                adversarios: parseFloat(document.getElementById(`nota-adversarios-${rapperId}`).value),
                consistencia: parseFloat(document.getElementById(`nota-consistencia-${rapperId}`).value),
                performance: parseFloat(document.getElementById(`nota-performance-${rapperId}`).value),
                impacto: parseFloat(document.getElementById(`nota-impacto-${rapperId}`).value),
                batalhas: []
            };

            // Coletar dados das batalhas
            const battleSelects = document.querySelectorAll(`#rapper-${rapperId} select[id^="resultado-"]`);
            battleSelects.forEach(select => {
                const battleId = select.id.split('-')[2];
                data.batalhas.push({
                    resultado: document.getElementById(`resultado-${rapperId}-${battleId}`).value,
                    status: document.getElementById(`favorito-${rapperId}-${battleId}`).value
                });
            });

            // Validação
            if (Object.values(data).some(value => isNaN(value)) {
                alert('Por favor, preencha todos os campos numéricos!');
                return;
            }

            // Processamento
            const resultado = {
                nome: rapperId,
                pontuacao: calcularPontuacao(data),
                vitorias: data.batalhas.filter(b => b.resultado === 'Venceu').length,
                derrotas: data.batalhas.filter(b => b.resultado === 'Perdeu').length,
                criterioForte: encontrarCritérioForte(data),
                tier: determinarTier(calcularPontuacao(data)),
                timestamp: new Date()
            };

            // Salvar no Firestore
            const voteId = `${rapperId}_${Date.now()}`;
            await setDoc(doc(db, "votos", voteId), resultado);
            
            console.log('Voto registrado:', voteId);
            alert('Voto registrado com sucesso!');

        } catch (error) {
            console.error('Erro durante o voto:', error);
            alert(`Erro: ${error.message}`);
        }
    }

    // Observação de dados em tempo real
    function observarVotos() {
        onSnapshot(collection(db, "votos"), (snapshot) => {
            const resultados = snapshot.docs.map(doc => doc.data());
            atualizarTabela(resultados);
        });
    }

    // Atualização da tabela
    function atualizarTabela(resultados) {
        const tbody = document.getElementById('tabela-corpo');
        tbody.innerHTML = '';

        resultados
            .sort((a, b) => b.pontuacao - a.pontuacao)
            .forEach(rapper => {
                const row = `
                    <tr>
                        <td>${rapper.nome}</td>
                        <td>${rapper.pontuacao.toFixed(1)}</td>
                        <td>${rapper.vitorias}</td>
                        <td>${rapper.derrotas}</td>
                        <td>${rapper.criterioForte}</td>
                        <td class="tier tier-${rapper.tier}">${rapper.tier}</td>
                    </tr>`;
                tbody.innerHTML += row;
            });
    }
</script>
</body>
</html>

